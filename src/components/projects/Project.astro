---
const { 
    projectName, 
    projectDesc, 
    projectUrl, 
    flags 
} = Astro.props;

var containerFlags = "bg-zinc-800/40 border-zinc-700/40";
var textColor = "text-zinc-200";
var descColor = "text-zinc-400";
var anchor = "";

if (flags === "WIP") {
    containerFlags = "bg-zinc-900/20 border-zinc-500/20";
    textColor = "text-zinc-500";
    descColor = "text-zinc-600";
    anchor = "cursor-not-allowed pointer-events-none";
}

if (flags === "maintenance") {
    containerFlags = "bg-zinc-900/40 border-zinc-500/20 active:border-blue-600/50 hover:border-zinc-600/50";
    textColor = "text-zinc-300";
    descColor = "text-zinc-500";
}
---

<a href={projectUrl} class={`no-underline w-full sm:flex-grow sm:basis-80 sm:max-w-md h-auto sm:h-64 font-sans m-1 sm:m-3 transition-all duration-300 ease-in-out ${anchor}`}>
    <div class={`group relative flex flex-col justify-between h-full rounded-xl ${containerFlags} border active:border-blue-500/50 hover:border-zinc-500/50 hover:scale-[1.02] active:scale-[0.98] hover:shadow-lg hover:shadow-zinc-900/20 transition-all duration-300 overflow-hidden`}>
        <div class="p-3 sm:p-5 relative z-10">
            <h2 class={`${textColor} text-lg sm:text-xl font-medium mb-1 group-hover:text-blue-300 transition-colors duration-300`}>{projectName}</h2>
            <p class={`${descColor} text-xs sm:text-sm line-clamp-3 sm:line-clamp-none`}>{projectDesc}</p>
        </div>
        
        <div class="flex items-center h-8 sm:h-10 p-2 sm:p-4 border-t border-zinc-700/30 relative z-10">
            {flags === "WIP" && (
                <div class="ml-auto flex items-center">
                    <span class="px-2 py-0.5 text-xs rounded-full bg-zinc-700/50 text-zinc-400">WIP</span>
                </div>
            )}
            {flags === "maintenance" && (
                <div class="ml-auto flex items-center">
                    <span class="w-1.5 sm:w-2 h-1.5 sm:h-2 bg-yellow-500 rounded-full mr-1 sm:mr-2 animate-pulse"></span>
                    <span class="text-xs text-zinc-400">Under Maintenance</span>
                </div>
            )}
            {!flags && (
                <div class="ml-auto flex items-center">
                    <span class="w-1.5 sm:w-2 h-1.5 sm:h-2 bg-green-400 rounded-full mr-1 sm:mr-2 animate-pulse"></span>
                    <span class="text-xs text-zinc-400">Active</span>
                </div>
            )}
        </div>
    </div>
</a>