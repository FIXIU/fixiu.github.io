---
import { getCollection } from 'astro:content';
import BlogPost from '../../components/blog/BlogPost.astro';

const allPosts = await getCollection('blog');
---

<Layout>
    <div class="px-5 py-8 max-w-7xl mx-auto min-h-[92vh]">
        <header class="mb-10">
            <h1 class="text-4xl font-bold text-zinc-100 mb-2">Blog</h1>
            <p class="text-zinc-400">A collection of my blog posts</p>
        </header>

        <section class="flex flex-wrap justify-center gap-2">
            {allPosts.map(post => (
                <BlogPost 
                    title={post.data.title}
                    date={post.data.date}
                    content={post.body}
                />
            ))}
        </section>
    </div>
</Layout>
